<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>WEST Tools &mdash; WESTPA 1.0b1 documentation</title>
    
    <link rel="stylesheet" href="../static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0b1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="WESTPA 1.0b1 documentation" href="../sphinx_index.html" />
    <link rel="next" title="WEST Work Manager" href="wwmgr.html" />
    <link rel="prev" title="Analysis" href="west/analysis.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wwmgr.html" title="WEST Work Manager"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="west/analysis.html" title="Analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../sphinx_index.html">WESTPA 1.0b1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="west-tools">
<h1>WEST Tools<a class="headerlink" href="#west-tools" title="Permalink to this headline">¶</a></h1>
<p>The command line tools included with the WESTPA software package are broadly
separable into two categories: <strong>Tools for initializing a simulation</strong> and
<strong>tools for analyzing results</strong>.</p>
<p>Command function can be user defined and modified. The particular parameters of
different command line tools are specified, in order of precedence, by:</p>
<ul class="simple">
<li>User specified command line arguments</li>
<li>User defined environmental variables</li>
<li>Package defaults</li>
</ul>
<p>This page focuses on outlining the general functionality of the command line
tools and providing an overview of command line arguments that are shared by
multiple tools. See the <a class="reference internal" href="command_line_tools.html#command-line-tool-index"><span>index of command-line tools</span></a> for a more comprehensive overview of each tool.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>All tools are located in the <code class="docutils literal"><span class="pre">$WEST_ROOT/bin</span></code> directory, where the shell
variable <code class="docutils literal"><span class="pre">WEST_ROOT</span></code> points to the path where the WESTPA package is located
on your machine.</p>
<p>You may wish to set this variable automatically by adding the following to your
<code class="docutils literal"><span class="pre">~/.bashrc</span></code> or <code class="docutils literal"><span class="pre">~/.profile</span></code> file:</p>
<div class="highlight-python"><div class="highlight"><pre>export WEST_ROOT=&quot;$HOME/westpa&quot;
</pre></div>
</div>
<p>where the path to the westpa suite is modified accordingly.</p>
<div class="section" id="tools-for-setting-up-and-running-a-simulation">
<h3>Tools for setting up and running a simulation<a class="headerlink" href="#tools-for-setting-up-and-running-a-simulation" title="Permalink to this headline">¶</a></h3>
<p>Use the following commands to initialize, configure, and run a weighted
ensemble simulation. Command line arguments or environmental variables can be
set to specify the work managers for running the simulation, where
configuration data is read from, and the <em>HDF5</em> file in which results are
stored.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="command_line_tools/w_init.html#w-init"><span>w_init</span></a></td>
<td>Initializes simulation configuration files and environment.
Always run this command before starting a new simulation.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="command_line_tools/w_bins.html#w-bins"><span>w_bins</span></a></td>
<td>Set up binning, progress coordinate</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="command_line_tools/w_run.html#w-run"><span>w_run</span></a></td>
<td>Launches a simulation. Command arguments/environmental
variables can be included to specify the work managers and
simulation parameters</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="command_line_tools/w_truncate.html#w-truncate"><span>w_truncate</span></a></td>
<td>Truncates the weighted ensemble simulation from a given
iteration.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tools-for-analyzing-simulation-results">
<h3>Tools for analyzing simulation results<a class="headerlink" href="#tools-for-analyzing-simulation-results" title="Permalink to this headline">¶</a></h3>
<p>The following command line tools are provided for analysis after running a
weighted ensemble simulation (and collecting the results in an HDF5 file).</p>
<p>With the exception of the plotting tool <code class="docutils literal"><span class="pre">plothist</span></code>, all analysis tools read
from and write to <em>HDF5</em> type files.</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Command</th>
<th class="head">Function</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="command_line_tools/w_assign.html#w-assign"><span>w_assign</span></a></td>
<td>Assign walkers to bins and macrostates (using simulation
output as input). Must be done before some other analysis
tools (e.g. <a class="reference internal" href="command_line_tools/w_kinetics.html#w-kinetics"><span>w_kinetics</span></a>, <a class="reference internal" href="command_line_tools/w_kinavg.html#w-kinavg"><span>w_kinavg</span></a>)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="command_line_tools/w_trace.html#w-trace"><span>w_trace</span></a></td>
<td>Trace the path of a given walker segment over a
user-specified number of simulation iterations.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="command_line_tools/w_fluxanl.html#w-fluxanl"><span>w_fluxanl</span></a></td>
<td>Calculate average probability flux into user-defined
&#8216;target&#8217; state with relevant statistics.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="command_line_tools/w_pdist.html#w-pdist"><span>w_pdist</span></a></td>
<td>Construct a probability distribution of results (e.g.
progress coordinate membership) for subsequent plotting
with <a class="reference internal" href="command_line_tools/plothist.html#plothist"><span>plothist</span></a>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="command_line_tools/plothist.html#plothist"><span>plothist</span></a></td>
<td>Tool to plot output from other analysis tools (e.g.
<a class="reference internal" href="command_line_tools/w_pdist.html#w-pdist"><span>w_pdist</span></a>).</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="general-command-line-options">
<h2>General Command Line Options<a class="headerlink" href="#general-command-line-options" title="Permalink to this headline">¶</a></h2>
<p>The following arguments are shared by all command line tools:</p>
<div class="highlight-python"><div class="highlight"><pre>-r config file, --rcfile config file
  Use config file as the configuration file (Default: File named west.cfg)
--quiet, --verbose, --debug
  Specify command tool output verbosity (Default: &#39;quiet&#39; mode)
--version
  Print WESTPA version number and exit
-h, --help
  Output the help information for this command line tool and exit
</pre></div>
</div>
<div class="section" id="a-note-on-specifying-a-configuration-file">
<h3>A note on specifying a configuration file<a class="headerlink" href="#a-note-on-specifying-a-configuration-file" title="Permalink to this headline">¶</a></h3>
<p>A <em>configuration file</em>, which should be stored in your simulation root
directory, is read by all command line tools. The <em>configuration file</em>
specifies parameters for general simulation setup, as well as the <em>hdf5</em> file
name where simulation data is stored and read by analysis tools.</p>
<p>If not specified, the <strong>default configuration file</strong> is assumed to be named
<strong>west.cfg</strong>.</p>
<p>You can override this to use configuration file <em>file</em> by either:</p>
<ul>
<li><p class="first">Setting the environmental variable <code class="docutils literal"><span class="pre">WESTRC</span></code> equal to <em>file</em>:</p>
<div class="highlight-python"><div class="highlight"><pre>export WESTRC=/path/to/westrcfile
</pre></div>
</div>
</li>
<li><p class="first">Including the command line argument <code class="docutils literal"><span class="pre">-r</span> <span class="pre">/path/to/westrcfile</span></code></p>
</li>
</ul>
</div>
</div>
<div class="section" id="work-manager-options">
<h2>Work Manager Options<a class="headerlink" href="#work-manager-options" title="Permalink to this headline">¶</a></h2>
<p>Note: See <a class="reference internal" href="wwmgr.html#wwmgr"><span>wwmgr overview</span></a> for a more detailed explanation of the
work manager framework.</p>
<p>Work managers a used by a number of command-line tools to process more complex
tasks, especially in setting up and running simulations (i.e. <a class="reference internal" href="command_line_tools/w_init.html#w-init"><span>w_init</span></a> and
<a class="reference internal" href="command_line_tools/w_run.html#w-run"><span>w_run</span></a>) - in general, work managers are involved in tasks that require
multiprocessing and/or tasks distributed over multiple nodes in a cluster.</p>
<div class="section" id="id1">
<h3>Overview<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The following command-line tools make use of work managers:</p>
<ul class="simple">
<li><a class="reference internal" href="command_line_tools/w_init.html#w-init"><span>w_init</span></a></li>
<li><a class="reference internal" href="command_line_tools/w_run.html#w-run"><span>w_run</span></a></li>
</ul>
</div>
<div class="section" id="general-work-manager-options">
<h3>General work manager options<a class="headerlink" href="#general-work-manager-options" title="Permalink to this headline">¶</a></h3>
<p>The following are general options used for specifying the type of work
manager and number of cores:</p>
<div class="highlight-python"><div class="highlight"><pre>--wm-work-manager work_manager
  Specify which type of work manager to use, where the possible choices for
  work_manager are: {processes, gcserial, threads, mpi, or zmq}. See the
  wwmgr overview page &lt;wwmgr&gt;_ for more information on the different types of
  work managers (Default: gcprocesses)
--wm-n-workers n_workers
  Specify the number of cores to use as gcn_workers, if the work manager you
  selected supports this option (work managers that do not will ignore this
  option). If using an gcmpi or zmq work manager, specify gc--wm-n-workers=0
  for a dedicated server (Default: Number of cores available on machine)
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">mpi</span></code> work manager is generally sufficient for most tasks that make use
of multiple nodes on a cluster. The <code class="docutils literal"><span class="pre">zmq</span></code> work manager is preferable if the
<code class="docutils literal"><span class="pre">mpi</span></code> work manager does not work properly on your cluster or if you prefer to
have more explicit control over the distribution of communication tasks on your
cluster.</p>
</div>
<div class="section" id="zeromq-zmq-work-manager">
<h3>ZeroMQ (&#8216;zmq&#8217;) work manager<a class="headerlink" href="#zeromq-zmq-work-manager" title="Permalink to this headline">¶</a></h3>
<p>The ZeroMQ work manager offers a number of additional options (all of
which are optional and have default values). All of these options focus
on whether the zmq work manager is set up as a server (i.e. task
distributor/ventilator) or client (task processor):</p>
<div class="highlight-python"><div class="highlight"><pre>--wm-zmq-mode mode
  Options: {server or client}. Specify whether the ZMQ work manager on this
  node will operate as a server or a client (Default: server)

--wm-zmq-info-file info_file
  Specify the name of a temporary file to write (as a server) or read (as a
  client) socket connection endpoints (Default: server_x.json, where x is a
  unique identifier string)

--wm-zmq-task-endpoint task_endpoint
  Explicitly use task_endpoint to bind to (as server) or connect to (as
  client) for task distribution (Default: A randomly determined endpoint that
  is written or read from the specified info_file)

--wm-zmq-result-endpoint result_endpoint
  Explicitly use result_endpoint to bind to (as server) or connect to (as
  client) to distribute and collect task results (Default: A randomly
  determined endpoint that is written to or read from the specified
  info_file)

--wm-zmq-announce-endpoint announce_endpoint
  Explicitly use announce_endpoint to bind to (as server) or connect to (as
  client) to distribute central announcements (Default: A randomly determined
  endpoint that is written to or read from the specified info_file)

--wm-zmq-heartbeat-interval interval
  If a server, send an Im alive ping to connected clients every interval
  seconds; If a client, expect to hear a server ping every approximately
  interval seconds, or else assume the server has crashed and shutdown
  (Default: 600 seconds)

--wm-zmq-task-timeout timeout
  Kill worker processes/jobs after that take longer than timeout seconds to
  complete (Default: no time limit)

--wm-zmq-client-comm-mode mode
  Use the communication mode, mode, (options: {ipc for Unix sockets, or tcp
  for TCP/IP sockets}) to communicate with worker processes (Default: ipc)
</pre></div>
</div>
</div>
</div>
<div class="section" id="initializing-running-simulations">
<h2>Initializing/Running Simulations<a class="headerlink" href="#initializing-running-simulations" title="Permalink to this headline">¶</a></h2>
<p>For a more complete overview of all the files necessary for setting up a
simulation, see the <a class="reference internal" href="west/setup.html#setup"><span>user guide for setting up a simulation</span></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../sphinx_index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">WEST Tools</a><ul>
<li><a class="reference internal" href="#overview">Overview</a><ul>
<li><a class="reference internal" href="#tools-for-setting-up-and-running-a-simulation">Tools for setting up and running a simulation</a></li>
<li><a class="reference internal" href="#tools-for-analyzing-simulation-results">Tools for analyzing simulation results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#general-command-line-options">General Command Line Options</a><ul>
<li><a class="reference internal" href="#a-note-on-specifying-a-configuration-file">A note on specifying a configuration file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#work-manager-options">Work Manager Options</a><ul>
<li><a class="reference internal" href="#id1">Overview</a></li>
<li><a class="reference internal" href="#general-work-manager-options">General work manager options</a></li>
<li><a class="reference internal" href="#zeromq-zmq-work-manager">ZeroMQ (&#8216;zmq&#8217;) work manager</a></li>
</ul>
</li>
<li><a class="reference internal" href="#initializing-running-simulations">Initializing/Running Simulations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="west/analysis.html"
                        title="previous chapter">Analysis</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="wwmgr.html"
                        title="next chapter">WEST Work Manager</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../sources/users_guide/west_tools.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Matthew C. Zwier and Lillian T. Chong.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="../sources/users_guide/west_tools.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>
